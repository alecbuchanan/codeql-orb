description: >
  This command creates a CodeQL database for the specified language.

parameters:
  codeql_directory:
    description: The directory on the runner where the CodeQL CLI should be downloaded.
    type: string
    default: "/home/circleci/codeql"
  language_identifier:
    description: The programming language for which the CodeQL database is to be created.
    type: string

steps:
  - run:
      environment:
        LANGUAGE_IDENTIFIER: << parameters.language_identifier >>
        CODEQL_DIR: << parameters.codeql_directory >>
      name: Create CodeQL Database
      command: <<include(scripts/create_database.sh)>>
